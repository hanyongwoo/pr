{"mappings":"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","sources":["rulret/roulette.js"],"sourcesContent":["\r\nArray.prototype.remove = function(elem) {\r\n\tthis.some(function(e, i, a) {\r\n\t\tif (e === elem) {\r\n\t\t\ta.splice(i, 1);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t});\r\n\treturn this;\r\n};\r\nArray.prototype.removeAll = function(elem) {\r\n\tthis.forEach(function(e, i, a) {\r\n\t\tif (e === elem) {\r\n\t\t\ta.splice(i, 1);\r\n\t\t}\r\n\t});\r\n\treturn this;\r\n}\r\nvar it; \r\nvar colorPalette = [\r\n\t'#f44336',\r\n\t'#e91e63',\r\n\t'#9c27b0',\r\n\t'#673ab7',\r\n\t'#3f51b5',\r\n\t'#2196f3',\r\n\t'#03a9f4',\r\n\t'#00bcd4',\r\n\t'#009688',\r\n\t'#4caf50',\r\n\t'#8bc34a',\r\n\t'#cddc39',\r\n\t'#ffeb3b',\r\n\t'#ffc107',\r\n\t'#ff9800',\r\n\t'#ff5722',\r\n\t'#795548',\r\n//\t'#9e9e9e',\r\n\t'#607d8b',\r\n];\r\n(function() {\r\n\tvar startColorIdx = Math.floor(Math.random() * colorPalette.length);\r\n\tvar startColor = colorPalette[startColorIdx];\r\n\tcolorPalette.remove(startColor);\r\n\twindow.getColor = function(i) {\r\n\t\tif (i == 0) return startColor;\r\n\t\treturn colorPalette[ Math.floor(startColorIdx + 4 * i) % colorPalette.length ];\r\n\t};\r\n})();\r\n\r\n// -------------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n\r\n// -------------------------------------------------------------------------------------------\r\n// -------------------------------------------------------------------------------------------\r\n// -------------------------------------------------------------------------------------------\r\n// -------------------------------------------------------------------------------------------\r\n// -------------------------------------------------------------------------------------------\r\n// -------------------------------------------------------------------------------------------\r\n\r\n\r\nvar noname = '이름 없음';\r\nvar font = '32px Hanna';\r\nvar font2 = font; //'36px Sans-serif';\r\nvar line_color = '#37474f';\r\nvar bgColor = '#ffffff';\r\nvar pinColor = '#37474f';\r\nvar fontStrokeStyle = '#37474f';\r\n\r\n\r\n\r\nfunction DEG2RAD(degree) {\r\n\treturn (degree * Math.PI) / 180;\r\n}\r\n\r\n$(document).ready(function() {\r\n\tvar $li = $('li.item');\r\n\tvar $cl = $li.clone();\r\n\twindow.createItem = function() {\r\n\t\t$('ul').append($cl.clone());\r\n\t}\r\n});\r\n\r\n\r\nfunction updateData() {\r\n\r\n\tvar items = [];\r\n\tvar angleSum = 0;\r\n\tvar weightSum = 0;\r\n\r\n\t$('li.item').each(function(i, e) {\r\n\t\tvar $e = $(e);\r\n\t\tvar $title = $e.find('.item-title');\r\n\t\tif ($title.text()) {\r\n\t\t\t$e.removeClass('empty');\r\n\t\t} else {\r\n\t\t\t$e.addClass('empty');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar weight = parseFloat($e.find('.item-weight').attr('data-weight')) || 0;\r\n\t\tweightSum += weight;\r\n\t});\r\n\t$('li.item:not(.empty)').each(function(i, e) {\r\n\t\tvar $e = $(e);\r\n\t\t\r\n\t\tvar title = $e.find('.item-title').text();\r\n\t\tif (!title) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar weight = parseFloat($e.find('.item-weight').attr('data-weight')) || 0;\r\n\t\tvar chance = weight / weightSum;\r\n\t\t$e.attr('data-chance', (chance * 100).toFixed(2));\r\n\r\n\t\tvar angle = 360 * chance;\r\n\t\tangleSum += angle;\r\n\r\n\t\tvar color = getColor(i)\r\n\t\titems.push({\r\n\t\t\tname: title,\r\n\t\t\tangle: angle,\r\n\t\t\tangleSum: angleSum,\r\n\t\t\tcolor: color\r\n\t\t});\r\n\r\n\t\t$e.css('background', 'linear-gradient(to right, ' + color + ' 11%, rgba(0, 0, 0, 0) 0%)');\r\n\t});\r\n\r\n\tR.Items = items;\r\n\tR.dirty = true;\r\n}\r\n\r\nfunction cleanList() {\r\n\tvar empty = [];\r\n\t$('li').each(function() {\r\n\t\tvar $this = $(this);\r\n\t\tvar $title = $this.find('.item-title');\r\n\t\tvar text = $title.text().trim();\r\n\t\t$title.text(text);\r\n\t\tif (!text) {\r\n\t\t\tempty.push($this);\r\n\t\t}\r\n\t});\r\n\r\n\tif (empty.length === 0) {\r\n\t\t// create new li\r\n\t\tcreateItem();\r\n\t} else if (empty.length > 1) {\r\n\t\tempty.pop();\r\n\t\tempty.forEach(function($e) {\r\n\t\t\t$e.remove();\r\n\t\t});\r\n\t}\r\n\r\n\tupdateCheckboxes();\r\n}\r\n\r\nfunction updateCheckboxes() {\r\n\tvar $existingCheckboxes = $('#addCheckList').find('.item-checkbox');\r\n\tvar $ulList = $('li.item').not('.empty');\r\n\r\n\tvar existingCheckboxCount = $existingCheckboxes.length;\r\n\tvar ulListCount = $ulList.length;\r\n\r\n\t// 체크박스가 초과되면 삭제\r\n\tif (existingCheckboxCount > ulListCount) {\r\n\t\tfor (var i = existingCheckboxCount - 1; i >= ulListCount; i--) {\r\n\t\t\t$existingCheckboxes.eq(i).remove();\r\n\t\t}\r\n\t} else if (existingCheckboxCount < ulListCount) { // 체크박스가 부족하면 추가\r\n\t\t$ulList.each(function(index) {\r\n\t\t\tif (index >= existingCheckboxCount) {\r\n\t\t\t\tvar checkboxName = $(this).find('.item-title').text();\r\n\t\t\t\tvar checkboxHtml = '<div class=\"item-checkbox\"><input type=\"checkbox\" class=\"single-checkbox\" />' + checkboxName + '</div>';\r\n\t\t\t\t$('#addCheckList').append(checkboxHtml);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n// 체크박스 선택 시 다른 체크박스 해제\r\n$(document).on('change', '#addCheckList .single-checkbox', function() {\r\n    if ($(this).prop('checked')) {\r\n        $('#addCheckList .single-checkbox').not(this).prop('checked', false); // 다른 체크박스 해제\r\n    }\r\n});\r\n\r\n$(document).on('blur', '.item-title', function(evt) {\r\n\tcleanList();\r\n\tupdateData(); // 데이터 업데이트\r\n\r\n});\r\n$(document).on('keyup', '.item-title', function(evt) {\r\n\tupdateData();\r\n});\r\n\r\n// 체크박스 선택 시 다른 체크박스 해제\r\n$(document).on('change', '.single-checkbox', function() {\r\n\tif ($(this).prop('checked')) {\r\n\t\t$('.single-checkbox').not(this).prop('checked', false); // 다른 체크박스 해제\r\n\t}\r\n});\r\n\r\n$(document).on('click', 'li.item', function(evt) {\r\n\t$(evt.currentTarget).find('.item-title').focus();\r\n});\r\n\r\n$(document).on('click', '.item-weight-add, .item-weight-sub', function(evt) {\r\n\tevt.stopPropagation();\r\n\tvar $this = $(evt.currentTarget);\r\n\tvar sign = $this.is('.item-weight-add') ? +1 : $this.is('.item-weight-sub') ? -1 : 0;\r\n\tvar $w = $this.focus().siblings('.item-weight');\r\n\tvar amount = evt.ctrlKey && !evt.shiftKey &&  evt.altKey ? 1000 :\r\n\t\t\t\t!evt.ctrlKey && !evt.shiftKey &&  evt.altKey ? 100 :\r\n\t\t\t\t evt.ctrlKey && !evt.shiftKey && !evt.altKey ? 10 :\r\n\t\t\t\t1;\r\n\tvar w = Math.floor(Math.max(1, Math.min(9999, (parseInt($w.attr('data-weight')) || 1) + sign * amount)));\r\n\t$w.attr('data-weight', w);\r\n\tupdateData();\r\n});\r\n\r\n$(document).on('keydown', function(evt) {\r\n\tvar $target = $(evt.target);\r\n\tif (evt.key === 'Enter') {\r\n\t\tevt.preventDefault();\r\n\t\tcleanList();\r\n\t\tif ($target.is('.item-title')) {\r\n\t\t\t$target.blur()\r\n\t\t\t.closest('li')\r\n\t\t\t.next('li')\r\n\t\t\t.find('.item-title').focus();\r\n\t\t}\r\n\t\tif ($target.is('[contenteditable]')) {\r\n\t\t\t$target.blur();\r\n\t\t}\r\n\t} else if (evt.key === 'Escape') {\r\n\t\tif ($target.is('[contenteditable]')) {\r\n\t\t\t$target.blur();\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n// $(document).on('keyup', '[contenteditable]', function(evt) {\r\n// \tupdateData();\r\n// });\r\n\r\nfunction Roulette() {\r\n\r\n\tvar R = {\r\n\t\tdirty: true,\r\n\t\trotation: 0,\r\n\t\t$button: $('#roll')\r\n\t};\r\n\twindow.R = R;\r\n\r\n\tfunction OnStart() {\r\n\t\ttry {\r\n\t\t\t$(document.body).css('background', bgColor);\r\n\t\t\tR.canvas = document.querySelector('canvas');\r\n\t\t\tR.ctx = R.canvas.getContext('2d', true);\r\n\t\t\tR.size = { width: R.canvas.width, height: R.canvas.height };\r\n\t\t\tR.center = { x: R.size.width / 2 , y: R.size.height / 2 };\r\n\r\n\t\t\twindow.radius = Math.min(Math.min(R.size.width, R.size.height) * 0.5 * 0.9, R.size.height / 2 - 40);\r\n\r\n\t\t\tR.bufferCanvas = document.createElement('canvas');\r\n\t\t\tR.bufferCanvas.width = R.size.width;\r\n\t\t\tR.bufferCanvas.height = R.size.height;\r\n\t\t\tR.buffer = R.bufferCanvas.getContext('2d', true);\r\n\t\t\tR.buffer.textAlign='center';\r\n\r\n\t\t\trequestAnimationFrame(OnUpdate);\r\n\t\t} catch(e) { console.log(e); }\r\n\t}\r\n\r\n\tfunction OnUpdate(timestamp) {\r\n\t\tR.deltaTime = timestamp - (R.lastTimestamp || timestamp);\r\n\t\t//R.FPS = (R.deltaTime && (R.deltaTime > 0)) ? Math.round(1000 / R.deltaTime) : 0;\r\n\r\n\t\t\r\n\t\tif (R.stopping) {\r\n\t\t\tif (Date.now() - R.stopping > 15 * 1000) {\r\n\t\t\t\tR.angularVelocity = 0;\r\n\t\t\t\tdelete R.stopping;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// if (R.angularDamping) {\r\n\t\t// \tR.angularVelocity -= Math.max(20, Math.min(R.angularVelocity * 0.5, R.angularDamping)) * (R.deltaTime / 1000);\r\n\t\t// }\r\n\t\tif (R.angularVelocity > 0) {\r\n\t\t\tR.rotation += R.angularVelocity * (timestamp / 999);\r\n\t\t\tR.angularVelocity *= 0.99; // Damping effect\r\n\t\t}\r\n\r\n\t\t// Check if we need to stop\r\n\t\t// if (R.angularVelocity <= 0) {\r\n\t\t// \tR.angularVelocity = 0;\r\n\t\t// \tif (R.onStop) R.onStop(); // Call stop function\r\n\t\t// \tR.isRolling = false; // Stop rolling\r\n\t\t// }\r\n\r\n\t\tif (R.angularVelocity) {\r\n\t\t\tR.rotation += R.angularVelocity * (R.deltaTime / 1000);\r\n\t\t\twhile (R.rotation < 0) R.rotation += 360;\r\n\t\t\twhile (R.rotation >= 360) R.rotation -= 360;\r\n\t\r\n\t\t\tif (R.targetAngle !== null && R.angularVelocity < 180) { // 멈출 속도 이하가 되면\r\n\t\t\t\tconst diff = R.rotation - R.targetAngle;\r\n\t\t\t\tif (Math.abs(diff) < 1) { // 목표 각도에 근접하면\r\n\t\t\t\t\tR.angularVelocity = 0; // 회전 멈춤\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (R.prevRotation != R.rotation) {\r\n\t\t\tR.dirty = true;\r\n\t\t}\r\n\r\n\t\trequestAnimationFrame(OnUpdate);\r\n\r\n\t\tR.prevRotation = R.rotation;\r\n\t\r\n\t\t// render\r\n\t\tOnRender();\r\n\t\r\n\t\t// next frame\r\n\t\tR.lastTimestamp = timestamp;\r\n\t}\r\n\r\n\tfunction drawArc(option, name, split) {\r\n\t\tif (!split || (split && !name)) {\r\n\t\t\tR.buffer.save();\r\n\t\t\tR.buffer.translate(option.x, option.y);\r\n\t\t\tR.buffer.rotate(DEG2RAD(option.rotation - 90));\r\n\r\n\t\t\tR.buffer.beginPath();\r\n\t\t\tR.buffer.moveTo(0, 0);\r\n\t\t\tR.buffer.arc(0, 0, option.radius, 0, DEG2RAD(option.angle));\r\n\t\t\tR.buffer.closePath();\r\n\t\t\tR.buffer.fillStyle = option.color;\r\n\t\t\tR.buffer.fill();\r\n\r\n\t\t\tR.buffer.beginPath();\r\n\t\t\tR.buffer.arc(0, 0, option.radius, 0, DEG2RAD(option.angle));\r\n\t\t\tR.buffer.strokeStyle = window.line_color;\r\n\t\t\tR.buffer.lineWidth = 3;\r\n\t\t\tR.buffer.stroke();\r\n\r\n\t\t\tR.buffer.restore();\r\n\t\t}\r\n\t\tif (!split || (split && name)) {\r\n\t\t\t// text\r\n\t\t\tR.buffer.save();\r\n\t\t\tR.buffer.translate(option.x, option.y);\r\n\t\t\tR.buffer.rotate(DEG2RAD(option.rotation - 90 + option.angle / 2));\r\n\r\n\t\t\tR.buffer.beginPath();\r\n\t\t\tR.buffer.moveTo(0, 0);\r\n\t\t\tR.buffer.font = window.font2;\r\n\t\t\tR.buffer.strokeStyle = fontStrokeStyle; // 'black';\r\n\t\t\tR.buffer.lineWidth = 5;\r\n\t\t\tR.buffer.strokeText(name, option.radius / 2, 8);\r\n\t\t\t//R.buffer.fillStyle = window.line_color;\r\n\t\t\tR.buffer.fillStyle = 'white';\r\n\t\t\tR.buffer.fillText(name, option.radius / 2, 8);\r\n\r\n\t\t\tR.buffer.restore();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction OnRender() {\r\n\t\tif (!R.dirty) return;\r\n\t\tR.dirty = false;\r\n\r\n\t\t// clear\r\n\t\tR.buffer.fillStyle = bgColor;\r\n\t\tR.buffer.fillRect(0, 0, R.size.width, R.size.height);\r\n\t\t//R.buffer.clearRect(0, 0, R.size.width, R.size.height);\r\n\r\n\t\tif (R.FPS) {\r\n\t\t\tR.buffer.font = window.font;\r\n\t\t\tR.buffer.fillStyle = window.line_color;\r\n\t\t\tR.buffer.fillText(R.FPS + 'FPS', 50, R.center.y - window.radius - 7);\r\n\t\t}\r\n\r\n\t\t// shadow\r\n\t\tR.buffer.shadowBlur = 15;\r\n\t\tR.buffer.shadowColor = 'black';\r\n\t\tdrawArc({ x: R.center.x, y: R.center.y + 15 + 5, radius: window.radius - 5, rotation: 0, angle: 360, color: bgColor }, '');\r\n\t\tR.buffer.shadowBlur = 0;\r\n\t\tdrawArc({ x: R.center.x, y: R.center.y + 15, radius: window.radius, rotation: 0, angle: 360, color: bgColor }, '');\r\n\r\n\t\t//\r\n\t\tR.current = null;\r\n\t\tif (R.Items && R.Items.length > 0) {\r\n\t\t\tR.lastAngle = 0;\r\n\t\t\tR.Items.forEach(function(item) {\r\n\t\t\t\tR.currentAngle = 360 - R.rotation;\r\n\t\t\t\twhile (R.currentAngle < 0) R.currentAngle += 360;\r\n\t\t\t\twhile (R.currentAngle >= 360) R.currentAngle -= 360;\r\n\t\t\t\t// if (item.angleSum - item.angle <= R.currentAngle && R.currentAngle <= item.angleSum) {\r\n\t\t\t\t// \tR.current = item.name;\r\n\t\t\t\t// }\r\n\r\n\t\t\t\tdrawArc({ x: R.center.x, y: R.center.y + 15, radius: window.radius,\r\n\t\t\t\t\trotation: R.rotation + R.lastAngle, angle: item.angle, color: item.color }, null, true);\r\n\t\t\t\tR.lastAngle += item.angle;\r\n\t\t\t\t//if (R.lastAngle >= 360) R.lastAngle -= 360;\r\n\t\t\t});\r\n\t\t\tR.lastAngle = 0;\r\n\t\t\tR.Items.forEach(function(item) {\r\n\t\t\t\tR.currentAngle = 360 - R.rotation;\r\n\t\t\t\twhile (R.currentAngle < 0) R.currentAngle += 360;\r\n\t\t\t\twhile (R.currentAngle >= 360) R.currentAngle -= 360;\r\n\t\t\t\tif (item.angleSum - item.angle <= R.currentAngle && R.currentAngle <= item.angleSum) {\r\n\t\t\t\t\tR.current = item.name;\r\n\t\t\t\t\tR.currentColor = item.color;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdrawArc({ x: R.center.x, y: R.center.y + 15, radius: window.radius,\r\n\t\t\t\t\trotation: R.rotation + R.lastAngle, angle: item.angle, color: item.color }, item.name, true);\r\n\t\t\t\tR.lastAngle += item.angle;\r\n\t\t\t\t//if (R.lastAngle >= 360) R.lastAngle -= 360;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdrawArc({ x: R.center.x, y: R.center.y + 15, radius: window.radius,\r\n\t\t\t\trotation: R.rotation-45, angle: 180, color: getColor(0) }, '돌려돌려');\r\n\t\t\tdrawArc({ x: R.center.x, y: R.center.y + 15, radius: window.radius,\r\n\t\t\t\trotation: R.rotation-45+180, angle: 180, color: getColor(1) }, '돌림판');\r\n\t\t}\r\n\t\t// pin\r\n\t\tR.buffer.beginPath();\r\n\t\tR.buffer.moveTo(R.size.width / 2    , R.center.y - window.radius + 20);\r\n\t\tR.buffer.lineTo(R.size.width / 2 - 5, R.center.y - window.radius + 5 );\r\n\t\tR.buffer.lineTo(R.size.width / 2 - 5, R.center.y - window.radius + 0 );\r\n\t\tR.buffer.lineTo(R.size.width / 2 + 5, R.center.y - window.radius + 0 );\r\n\t\tR.buffer.lineTo(R.size.width / 2 + 5, R.center.y - window.radius + 5 );\r\n\t\tR.buffer.closePath();\r\n\t\tR.buffer.fillStyle = window.pinColor;\r\n\t\tR.buffer.fill();\r\n\t\tR.buffer.stroke();\r\n\r\n\t\tif (R.current) {\r\n\t\t\t//R.buffer.shadowBlur = 1;\r\n\t\t\tR.buffer.font = window.font;\r\n\t\t\tif (R.currentColor) {\r\n\t\t\t\tR.buffer.strokeStyle = window.line_color; // 'black';\r\n\t\t\t\tR.buffer.lineWidth = 5;\r\n\t\t\t\tR.buffer.strokeText(R.current, R.size.width / 2, R.center.y - window.radius - 7);\r\n\t\t\t}\r\n\t\t\tR.buffer.fillStyle = R.currentColor || window.line_color;\r\n\t\t\tR.buffer.fillText(R.current, R.size.width / 2, R.center.y - window.radius - 7);\r\n\t\t\t//R.buffer.shadowBlur = 0;\r\n\t\t}\r\n\t\t// 가운데 점\r\n\t\t// R.buffer.beginPath();\r\n\t\t// R.buffer.arc(R.center.x, R.center.y + 15, 3, 0, 2 * Math.PI);\r\n\t\t// R.buffer.fill();\r\n\t\tR.ctx.drawImage(R.bufferCanvas, 0, 0);\r\n\t}\r\n\r\n\tR.Launch = function(targetName) {\r\n\t\t//R.launched = true;\r\n\t\tR.angularVelocity = 6 * 360; // 초기 회전 속도\r\n\t\tR.angularDamping = 10;\r\n\r\n\t\tif (targetName) {\r\n\t\t\tconst targetItem = R.Items.find(item => item.name === targetName);\r\n\t\t\tif (targetItem) {\r\n\t\t\t\tconst targetIndex = R.Items.indexOf(targetItem);\r\n\t\t\t\tconst targetAngle = targetItem.angleSum - targetItem.angle / 2; // 이름의 중간 각도\r\n\t\t\t\tR.targetAngle = (360 - targetAngle) % 360; // 목표 각도 설정\r\n\t\t\t\tR.rotation = Math.random() * 360; // 초기 회전값 랜덤 설정\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tR.targetAngle = null; // 목표 각도가 없으면 랜덤으로 설정\r\n\t\t}\r\n\t}\r\n\tR.Stop = function() {\r\n\t\tclearTimeout(it);\r\n\t\tit = setTimeout(function() {\r\n\t\t\tvar checkedItem = null;\r\n\t\t\t$('.item-checkbox').each(function(){\r\n\t\t\t\tvar $item = $(this);\r\n\t\t\t\t//var $title = $item[0].textContent.trim();\r\n\t\t\t\tvar titleText = $item[0].textContent.trim();\r\n\t\t\t\t//var $checkbox = $item[0].firstChild;\r\n\t\t\t\tif ($item[0].firstChild.checked && titleText) {\r\n\t\t\t\t\tcheckedItem = titleText; // 하나의 체크된 이름\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// 체크된 아이템이 있을 경우 표시\r\n\t\t\tvar $result = $('#result');\r\n\t\t\tvar $roll = $('#roll');\r\n\t\t\t$result.removeClass('play').hide(); // 결과를 숨김\r\n\t\t\t// 서서히 느려지는 효과\r\n\t\t\tif (checkedItem) {\r\n\t\t\t\tR.angularVelocity = 8; // 초기 회전 속도를 설정\r\n\r\n\t\t\t\t// 최소 속도와 감속 비율 설정\r\n\t\t\t\tvar minVelocity = 0.5; // 최소 속도\r\n\t\t\t\tvar slowingFactor = 0.95; // 속도 감소 비율\r\n\t\t\t\tvar updateInterval = 50; // 업데이트 간격 (ms)\r\n\r\n\t\t\t\tvar interval = setInterval(function() {\r\n\t\t\t\t\t// 회전 값 업데이트\r\n\t\t\t\t\tR.rotation += R.angularVelocity; \r\n\t\r\n\t\t\t\t\t// 속도 감소\r\n\t\t\t\t\tR.angularVelocity *= slowingFactor; \r\n\t\r\n\t\t\t\t\t// 최소 속도 이하로 떨어지지 않도록 설정\r\n\t\t\t\t\tif (R.angularVelocity < 0.1) {\r\n\t\t\t\t\t\tclearInterval(interval);\r\n\t\r\n\t\t\t\t\t\t// 결과를 일정 시간 후에 보여주도록 하여, 돌림판 결과가 나오게 함\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tvar message = checkedItem ? checkedItem : '체크된 이름이 없습니다.';\r\n\t\t\t\t\t\t\t$result.removeClass('out').text(message).show().addClass('play');\r\n\t\t\t\t\t\t}, 1500); // 1500ms 후에 결과를 보여줌\r\n\t\t\t\t\t}\r\n\t\t\t\t}, updateInterval); // 50ms 간격으로 업데이트\r\n\t\t\t}\r\n\t\r\n\t\t\t// 롤 버튼 다시 보여줌\r\n\t\t\t$roll.fadeIn(600, function() {\r\n\t\t\t\tlock(false);\r\n\t\t\t});\r\n\t\t}, 1500);\r\n\t}\r\n\r\n\tOnStart();\r\n}\r\n\r\n$(document).ready(function() {\r\n\tRoulette();\r\n\r\n\t//var $result = $('#result');\r\n\tvar $roll = $('#roll');\r\n\r\n\tR.onStop = function() {\r\n\t\t// 체크된 아이템들 가져오기\r\n        var checkedItem = null;\r\n        $('.item-checkbox').each(function(){\r\n\t\t\tvar $item = $(this);\r\n\t\t\tvar titleText = $item[0].textContent.trim();\r\n\t\t\tif ($item[0].firstChild.checked && titleText) {\r\n\t\t\t\tcheckedItem = titleText; // 하나의 체크된 이름\r\n\t\t\t}\r\n\t\t});\r\n\r\n        // 체크된 아이템이 있을 경우 표시\r\n        // if (checkedItem) {\r\n        //     $result.removeClass('out').text(checkedItem).show().addClass('play');\r\n        // } else {\r\n        //     $result.removeClass('out').text('체크된 이름이 없습니다.').show().addClass('play');\r\n        // }\r\n\r\n\t\tclearTimeout(it);\r\n\t\tit = setTimeout(function() {\r\n\t\t\t$roll.fadeIn(600, function() {\r\n\t\t\t\tlock(false);\r\n\t\t\t\t$result.hide();\r\n\t\t\t});\r\n\t\t}, 1500);\r\n\t}\r\n});\r\n\r\nfunction lock(b) {\r\n\tif (b) {\r\n\t\t$('[contenteditable]').attr('contenteditable', false);\r\n\t\t$('ul').addClass('lock');\r\n\t} else {\r\n\t\t$('[contenteditable]').attr('contenteditable', true);\r\n\t\t$('ul').removeClass('lock');\r\n\t}\r\n}\r\n\r\n$(document).on('click', '#roll', function(evt) {\r\n\tif (!R.isRolling) {\r\n        R.isRolling = true;\r\n\t\tvar checkedItem = null;\r\n        $('.item-checkbox').each(function(){\r\n\t\t\tvar $item = $(this);\r\n\t\t\tvar titleText = $item[0].textContent.trim();\r\n\t\t\tif ($item[0].firstChild.checked && titleText) {\r\n\t\t\t\tcheckedItem = titleText; // 하나의 체크된 이름\r\n\t\t\t}\r\n\t\t});\r\n        R.Launch(checkedItem); // 체크된 이름으로 당첨 설정\r\n        $(evt.currentTarget).focus().addClass('active');\r\n        lock(true);\r\n    } else {\r\n        R.isRolling = false;\r\n        R.Stop();\r\n        $(evt.currentTarget).focus().removeClass('active').hide();\r\n    }\r\n});\r\n\r\n$(document).on('click', '.item-delete', function(evt) {\r\n\t$(evt.currentTarget).closest('li').remove();\r\n\tupdateData();\r\n\tcleanList();\r\n});\r\n\r\n// $(document).on('click', function(evt) {\r\n// \t$(evt.target).focus();\r\n// \tif ($(evt.target).is('h1')) {\r\n// \t\t$(evt.target).attr('contenteditable', 'true');\r\n// \t} else {\r\n// \t\t$('[contenteditable]').removeAttr('contenteditable');\r\n// \t}\r\n// });\r\n\r\n$(document).on('keydown', 'h1[contenteditable]', function(e) {\r\n\tif (e.key === 'Enter') {\r\n\t\te.preventDefault();\r\n\t}\r\n});\r\n\r\n$(document).on('click', '#roll', function(evt) {\r\n\r\n\tvar checkedItem = null;\r\n\t$('.item-checkbox').each(function(){\r\n\t\tvar $item = $(this);\r\n\t\t//var $title = $item[0].textContent.trim();\r\n\t\tvar titleText = $item[0].textContent.trim();\r\n\t\t//var $checkbox = $item[0].firstChild;\r\n\t\tif ($item[0].firstChild.checked && titleText) {\r\n\t\t\tcheckedItem = titleText; // 하나의 체크된 이름\r\n\t\t}\r\n\t});\r\n\r\n    if (!R.isRolling) {\r\n        // 특정 이름을 여기서 지정\r\n        R.isRolling = true;\r\n        R.Launch(checkedItem); // 원하는 이름으로 당첨을 설정\r\n        $(evt.currentTarget).focus().addClass('active');\r\n        lock(true);\r\n    } else {\r\n        R.isRolling = false;\r\n\t\tR.Launch(checkedItem); // 원하는 이름으로 당첨을 설정\r\n        R.Stop();\r\n        $(evt.currentTarget).focus().removeClass('active').hide();\r\n    }\r\n});\r\n\r\n(function() {\r\n\tvar $t = $('#button-tooltip');\r\n\tvar $u = $('ul');\r\n\r\n\tfunction show() {\r\n\t\t$t.show();\r\n\t};\r\n\tfunction hide() {\r\n\t\t$t.hide();\r\n\t};\r\n\tfunction move() {\r\n\t\tvar o = $u.offset();\r\n\t\to.top -= 100;\r\n\t\to.left += 100;\r\n\t\t$t.offset(o);\r\n\t};\r\n\r\n\t$(document).on('mouseenter mousemove', '.item-weight-sub, .item-weight-add', function(e) {\r\n\t\tmove();\r\n\t\tshow();\r\n\t}).on('mouseleave', '.item-weight-sub, .item-weight-add', function(e) {\r\n\t\thide();\r\n\t});\r\n\r\n})();"],"names":[],"version":3,"file":"roulette.7ffa1835.js.map","sourceRoot":"/__parcel_source_root/"}