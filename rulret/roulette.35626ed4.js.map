{"mappings":"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","sources":["<anon>","rulret/roulette.js"],"sourcesContent":["Array.prototype.remove = function(elem) {\n    this.some(function(e, i, a) {\n        if (e === elem) {\n            a.splice(i, 1);\n            return true;\n        }\n        return false;\n    });\n    return this;\n};\nArray.prototype.removeAll = function(elem) {\n    this.forEach(function(e, i, a) {\n        if (e === elem) a.splice(i, 1);\n    });\n    return this;\n};\nvar it;\nvar colorPalette = [\n    \"#f44336\",\n    \"#e91e63\",\n    \"#9c27b0\",\n    \"#673ab7\",\n    \"#3f51b5\",\n    \"#2196f3\",\n    \"#03a9f4\",\n    \"#00bcd4\",\n    \"#009688\",\n    \"#4caf50\",\n    \"#8bc34a\",\n    \"#cddc39\",\n    \"#ffeb3b\",\n    \"#ffc107\",\n    \"#ff9800\",\n    \"#ff5722\",\n    \"#795548\",\n    //\t'#9e9e9e',\n    \"#607d8b\"\n];\n(function() {\n    var startColorIdx = Math.floor(Math.random() * colorPalette.length);\n    var startColor = colorPalette[startColorIdx];\n    colorPalette.remove(startColor);\n    window.getColor = function(i) {\n        if (i == 0) return startColor;\n        return colorPalette[Math.floor(startColorIdx + 4 * i) % colorPalette.length];\n    };\n})();\n// -------------------------------------------------------------------------------------------\n// -------------------------------------------------------------------------------------------\n// -------------------------------------------------------------------------------------------\n// -------------------------------------------------------------------------------------------\n// -------------------------------------------------------------------------------------------\n// -------------------------------------------------------------------------------------------\n// -------------------------------------------------------------------------------------------\nvar noname = \"\\uC774\\uB984 \\uC5C6\\uC74C\";\nvar font = \"32px Hanna\";\nvar font2 = font; //'36px Sans-serif';\nvar line_color = \"#37474f\";\nvar bgColor = \"#ffffff\";\nvar pinColor = \"#37474f\";\nvar fontStrokeStyle = \"#37474f\";\nfunction DEG2RAD(degree) {\n    return degree * Math.PI / 180;\n}\n$(document).ready(function() {\n    var $li = $(\"li.item\");\n    var $cl = $li.clone();\n    window.createItem = function() {\n        $(\"ul\").append($cl.clone());\n    };\n});\nfunction updateData() {\n    var items = [];\n    var angleSum = 0;\n    var weightSum = 0;\n    $(\"li.item\").each(function(i, e) {\n        var $e = $(e);\n        var $title = $e.find(\".item-title\");\n        if ($title.text()) $e.removeClass(\"empty\");\n        else {\n            $e.addClass(\"empty\");\n            return;\n        }\n        var weight = parseFloat($e.find(\".item-weight\").attr(\"data-weight\")) || 0;\n        weightSum += weight;\n    });\n    $(\"li.item:not(.empty)\").each(function(i, e) {\n        var $e = $(e);\n        var title = $e.find(\".item-title\").text();\n        if (!title) return;\n        var weight = parseFloat($e.find(\".item-weight\").attr(\"data-weight\")) || 0;\n        var chance = weight / weightSum;\n        $e.attr(\"data-chance\", (chance * 100).toFixed(2));\n        var angle = 360 * chance;\n        angleSum += angle;\n        var color = getColor(i);\n        items.push({\n            name: title,\n            angle: angle,\n            angleSum: angleSum,\n            color: color\n        });\n        $e.css(\"background\", \"linear-gradient(to right, \" + color + \" 11%, rgba(0, 0, 0, 0) 0%)\");\n    });\n    R.Items = items;\n    R.dirty = true;\n}\nfunction cleanList() {\n    var empty = [];\n    $(\"li\").each(function() {\n        var $this = $(this);\n        var $title = $this.find(\".item-title\");\n        var text = $title.text().trim();\n        $title.text(text);\n        if (!text) empty.push($this);\n    });\n    if (empty.length === 0) // create new li\n    createItem();\n    else if (empty.length > 1) {\n        empty.pop();\n        empty.forEach(function($e) {\n            $e.remove();\n        });\n    }\n    updateCheckboxes();\n}\nfunction updateCheckboxes() {\n    var $existingCheckboxes = $(\"#addCheckList\").find(\".item-checkbox\");\n    var $ulList = $(\"li.item\").not(\".empty\");\n    var existingCheckboxCount = $existingCheckboxes.length;\n    var ulListCount = $ulList.length;\n    // 체크박스가 초과되면 삭제\n    if (existingCheckboxCount > ulListCount) for(var i = existingCheckboxCount - 1; i >= ulListCount; i--)$existingCheckboxes.eq(i).remove();\n    else if (existingCheckboxCount < ulListCount) $ulList.each(function(index) {\n        if (index >= existingCheckboxCount) {\n            var checkboxName = $(this).find(\".item-title\").text();\n            var checkboxHtml = '<div class=\"item-checkbox\"><input type=\"checkbox\" class=\"single-checkbox\" />' + checkboxName + \"</div>\";\n            $(\"#addCheckList\").append(checkboxHtml);\n        }\n    });\n}\n// 체크박스 선택 시 다른 체크박스 해제\n$(document).on(\"change\", \"#addCheckList .single-checkbox\", function() {\n    if ($(this).prop(\"checked\")) $(\"#addCheckList .single-checkbox\").not(this).prop(\"checked\", false); // 다른 체크박스 해제\n});\n$(document).on(\"blur\", \".item-title\", function(evt) {\n    cleanList();\n    updateData(); // 데이터 업데이트\n});\n$(document).on(\"keyup\", \".item-title\", function(evt) {\n    updateData();\n});\n// 체크박스 선택 시 다른 체크박스 해제\n$(document).on(\"change\", \".single-checkbox\", function() {\n    if ($(this).prop(\"checked\")) $(\".single-checkbox\").not(this).prop(\"checked\", false); // 다른 체크박스 해제\n});\n$(document).on(\"click\", \"li.item\", function(evt) {\n    $(evt.currentTarget).find(\".item-title\").focus();\n});\n$(document).on(\"click\", \".item-weight-add, .item-weight-sub\", function(evt) {\n    evt.stopPropagation();\n    var $this = $(evt.currentTarget);\n    var sign = $this.is(\".item-weight-add\") ? 1 : $this.is(\".item-weight-sub\") ? -1 : 0;\n    var $w = $this.focus().siblings(\".item-weight\");\n    var amount = evt.ctrlKey && !evt.shiftKey && evt.altKey ? 1000 : !evt.ctrlKey && !evt.shiftKey && evt.altKey ? 100 : evt.ctrlKey && !evt.shiftKey && !evt.altKey ? 10 : 1;\n    var w = Math.floor(Math.max(1, Math.min(9999, (parseInt($w.attr(\"data-weight\")) || 1) + sign * amount)));\n    $w.attr(\"data-weight\", w);\n    updateData();\n});\n$(document).on(\"keydown\", function(evt) {\n    var $target = $(evt.target);\n    if (evt.key === \"Enter\") {\n        evt.preventDefault();\n        cleanList();\n        if ($target.is(\".item-title\")) $target.blur().closest(\"li\").next(\"li\").find(\".item-title\").focus();\n        if ($target.is(\"[contenteditable]\")) $target.blur();\n    } else if (evt.key === \"Escape\") {\n        if ($target.is(\"[contenteditable]\")) $target.blur();\n    }\n});\n// $(document).on('keyup', '[contenteditable]', function(evt) {\n// \tupdateData();\n// });\nfunction Roulette() {\n    var R1 = {\n        dirty: true,\n        rotation: 0,\n        $button: $(\"#roll\")\n    };\n    window.R = R1;\n    function OnStart() {\n        try {\n            $(document.body).css(\"background\", bgColor);\n            R1.canvas = document.querySelector(\"canvas\");\n            R1.ctx = R1.canvas.getContext(\"2d\", true);\n            R1.size = {\n                width: R1.canvas.width,\n                height: R1.canvas.height\n            };\n            R1.center = {\n                x: R1.size.width / 2,\n                y: R1.size.height / 2\n            };\n            window.radius = Math.min(Math.min(R1.size.width, R1.size.height) * 0.45, R1.size.height / 2 - 40);\n            R1.bufferCanvas = document.createElement(\"canvas\");\n            R1.bufferCanvas.width = R1.size.width;\n            R1.bufferCanvas.height = R1.size.height;\n            R1.buffer = R1.bufferCanvas.getContext(\"2d\", true);\n            R1.buffer.textAlign = \"center\";\n            requestAnimationFrame(OnUpdate);\n        } catch (e) {\n            console.log(e);\n        }\n    }\n    function OnUpdate(timestamp) {\n        R1.deltaTime = timestamp - (R1.lastTimestamp || timestamp);\n        //R.FPS = (R.deltaTime && (R.deltaTime > 0)) ? Math.round(1000 / R.deltaTime) : 0;\n        if (R1.stopping) {\n            if (Date.now() - R1.stopping > 15000) {\n                R1.angularVelocity = 0;\n                delete R1.stopping;\n            }\n        }\n        // if (R.angularDamping) {\n        // \tR.angularVelocity -= Math.max(20, Math.min(R.angularVelocity * 0.5, R.angularDamping)) * (R.deltaTime / 1000);\n        // }\n        if (R1.angularVelocity > 0) {\n            R1.rotation += R1.angularVelocity * (timestamp / 999);\n            R1.angularVelocity *= 0.99; // Damping effect\n        }\n        // Check if we need to stop\n        // if (R.angularVelocity <= 0) {\n        // \tR.angularVelocity = 0;\n        // \tif (R.onStop) R.onStop(); // Call stop function\n        // \tR.isRolling = false; // Stop rolling\n        // }\n        if (R1.angularVelocity) {\n            R1.rotation += R1.angularVelocity * (R1.deltaTime / 1000);\n            while(R1.rotation < 0)R1.rotation += 360;\n            while(R1.rotation >= 360)R1.rotation -= 360;\n            if (R1.targetAngle !== null && R1.angularVelocity < 180) {\n                const diff = R1.rotation - R1.targetAngle;\n                if (Math.abs(diff) < 1) R1.angularVelocity = 0; // 회전 멈춤\n            }\n        }\n        if (R1.prevRotation != R1.rotation) R1.dirty = true;\n        requestAnimationFrame(OnUpdate);\n        R1.prevRotation = R1.rotation;\n        // render\n        OnRender();\n        // next frame\n        R1.lastTimestamp = timestamp;\n    }\n    function drawArc(option, name, split) {\n        if (!split || split && !name) {\n            R1.buffer.save();\n            R1.buffer.translate(option.x, option.y);\n            R1.buffer.rotate(DEG2RAD(option.rotation - 90));\n            R1.buffer.beginPath();\n            R1.buffer.moveTo(0, 0);\n            R1.buffer.arc(0, 0, option.radius, 0, DEG2RAD(option.angle));\n            R1.buffer.closePath();\n            R1.buffer.fillStyle = option.color;\n            R1.buffer.fill();\n            R1.buffer.beginPath();\n            R1.buffer.arc(0, 0, option.radius, 0, DEG2RAD(option.angle));\n            R1.buffer.strokeStyle = window.line_color;\n            R1.buffer.lineWidth = 3;\n            R1.buffer.stroke();\n            R1.buffer.restore();\n        }\n        if (!split || split && name) {\n            // text\n            R1.buffer.save();\n            R1.buffer.translate(option.x, option.y);\n            R1.buffer.rotate(DEG2RAD(option.rotation - 90 + option.angle / 2));\n            R1.buffer.beginPath();\n            R1.buffer.moveTo(0, 0);\n            R1.buffer.font = window.font2;\n            R1.buffer.strokeStyle = fontStrokeStyle; // 'black';\n            R1.buffer.lineWidth = 5;\n            R1.buffer.strokeText(name, option.radius / 2, 8);\n            //R.buffer.fillStyle = window.line_color;\n            R1.buffer.fillStyle = \"white\";\n            R1.buffer.fillText(name, option.radius / 2, 8);\n            R1.buffer.restore();\n        }\n    }\n    function OnRender() {\n        if (!R1.dirty) return;\n        R1.dirty = false;\n        // clear\n        R1.buffer.fillStyle = bgColor;\n        R1.buffer.fillRect(0, 0, R1.size.width, R1.size.height);\n        //R.buffer.clearRect(0, 0, R.size.width, R.size.height);\n        if (R1.FPS) {\n            R1.buffer.font = window.font;\n            R1.buffer.fillStyle = window.line_color;\n            R1.buffer.fillText(R1.FPS + \"FPS\", 50, R1.center.y - window.radius - 7);\n        }\n        // shadow\n        R1.buffer.shadowBlur = 15;\n        R1.buffer.shadowColor = \"black\";\n        drawArc({\n            x: R1.center.x,\n            y: R1.center.y + 15 + 5,\n            radius: window.radius - 5,\n            rotation: 0,\n            angle: 360,\n            color: bgColor\n        }, \"\");\n        R1.buffer.shadowBlur = 0;\n        drawArc({\n            x: R1.center.x,\n            y: R1.center.y + 15,\n            radius: window.radius,\n            rotation: 0,\n            angle: 360,\n            color: bgColor\n        }, \"\");\n        //\n        R1.current = null;\n        if (R1.Items && R1.Items.length > 0) {\n            R1.lastAngle = 0;\n            R1.Items.forEach(function(item) {\n                R1.currentAngle = 360 - R1.rotation;\n                while(R1.currentAngle < 0)R1.currentAngle += 360;\n                while(R1.currentAngle >= 360)R1.currentAngle -= 360;\n                // if (item.angleSum - item.angle <= R.currentAngle && R.currentAngle <= item.angleSum) {\n                // \tR.current = item.name;\n                // }\n                drawArc({\n                    x: R1.center.x,\n                    y: R1.center.y + 15,\n                    radius: window.radius,\n                    rotation: R1.rotation + R1.lastAngle,\n                    angle: item.angle,\n                    color: item.color\n                }, null, true);\n                R1.lastAngle += item.angle;\n            //if (R.lastAngle >= 360) R.lastAngle -= 360;\n            });\n            R1.lastAngle = 0;\n            R1.Items.forEach(function(item) {\n                R1.currentAngle = 360 - R1.rotation;\n                while(R1.currentAngle < 0)R1.currentAngle += 360;\n                while(R1.currentAngle >= 360)R1.currentAngle -= 360;\n                if (item.angleSum - item.angle <= R1.currentAngle && R1.currentAngle <= item.angleSum) {\n                    R1.current = item.name;\n                    R1.currentColor = item.color;\n                }\n                drawArc({\n                    x: R1.center.x,\n                    y: R1.center.y + 15,\n                    radius: window.radius,\n                    rotation: R1.rotation + R1.lastAngle,\n                    angle: item.angle,\n                    color: item.color\n                }, item.name, true);\n                R1.lastAngle += item.angle;\n            //if (R.lastAngle >= 360) R.lastAngle -= 360;\n            });\n        } else {\n            drawArc({\n                x: R1.center.x,\n                y: R1.center.y + 15,\n                radius: window.radius,\n                rotation: R1.rotation - 45,\n                angle: 180,\n                color: getColor(0)\n            }, \"\\uB3CC\\uB824\\uB3CC\\uB824\");\n            drawArc({\n                x: R1.center.x,\n                y: R1.center.y + 15,\n                radius: window.radius,\n                rotation: R1.rotation - 45 + 180,\n                angle: 180,\n                color: getColor(1)\n            }, \"\\uB3CC\\uB9BC\\uD310\");\n        }\n        // pin\n        R1.buffer.beginPath();\n        R1.buffer.moveTo(R1.size.width / 2, R1.center.y - window.radius + 20);\n        R1.buffer.lineTo(R1.size.width / 2 - 5, R1.center.y - window.radius + 5);\n        R1.buffer.lineTo(R1.size.width / 2 - 5, R1.center.y - window.radius + 0);\n        R1.buffer.lineTo(R1.size.width / 2 + 5, R1.center.y - window.radius + 0);\n        R1.buffer.lineTo(R1.size.width / 2 + 5, R1.center.y - window.radius + 5);\n        R1.buffer.closePath();\n        R1.buffer.fillStyle = window.pinColor;\n        R1.buffer.fill();\n        R1.buffer.stroke();\n        if (R1.current) {\n            //R.buffer.shadowBlur = 1;\n            R1.buffer.font = window.font;\n            if (R1.currentColor) {\n                R1.buffer.strokeStyle = window.line_color; // 'black';\n                R1.buffer.lineWidth = 5;\n                R1.buffer.strokeText(R1.current, R1.size.width / 2, R1.center.y - window.radius - 7);\n            }\n            R1.buffer.fillStyle = R1.currentColor || window.line_color;\n            R1.buffer.fillText(R1.current, R1.size.width / 2, R1.center.y - window.radius - 7);\n        //R.buffer.shadowBlur = 0;\n        }\n        // 가운데 점\n        // R.buffer.beginPath();\n        // R.buffer.arc(R.center.x, R.center.y + 15, 3, 0, 2 * Math.PI);\n        // R.buffer.fill();\n        R1.ctx.drawImage(R1.bufferCanvas, 0, 0);\n    }\n    R1.Launch = function(targetName) {\n        //R.launched = true;\n        R1.angularVelocity = 2160; // 초기 회전 속도\n        R1.angularDamping = 10;\n        if (targetName) {\n            const targetItem = R1.Items.find((item)=>item.name === targetName);\n            if (targetItem) {\n                const targetIndex = R1.Items.indexOf(targetItem);\n                const targetAngle = targetItem.angleSum - targetItem.angle / 2; // 이름의 중간 각도\n                R1.targetAngle = (360 - targetAngle) % 360; // 목표 각도 설정\n                R1.rotation = Math.random() * 360; // 초기 회전값 랜덤 설정\n            }\n        } else R1.targetAngle = null; // 목표 각도가 없으면 랜덤으로 설정\n    };\n    R1.Stop = function() {\n        clearTimeout(it);\n        it = setTimeout(function() {\n            var checkedItem = null;\n            $(\".item-checkbox\").each(function() {\n                var $item = $(this);\n                //var $title = $item[0].textContent.trim();\n                var titleText = $item[0].textContent.trim();\n                //var $checkbox = $item[0].firstChild;\n                if ($item[0].firstChild.checked && titleText) checkedItem = titleText; // 하나의 체크된 이름\n            });\n            // 체크된 아이템이 있을 경우 표시\n            var $result1 = $(\"#result\");\n            var $roll = $(\"#roll\");\n            $result1.removeClass(\"play\").hide(); // 결과를 숨김\n            // 서서히 느려지는 효과\n            if (checkedItem) {\n                R1.angularVelocity = 8; // 초기 회전 속도를 설정\n                // 최소 속도와 감속 비율 설정\n                var minVelocity = 0.5; // 최소 속도\n                var slowingFactor = 0.95; // 속도 감소 비율\n                var updateInterval = 50; // 업데이트 간격 (ms)\n                var interval = setInterval(function() {\n                    // 회전 값 업데이트\n                    R1.rotation += R1.angularVelocity;\n                    // 속도 감소\n                    R1.angularVelocity *= slowingFactor;\n                    // 최소 속도 이하로 떨어지지 않도록 설정\n                    if (R1.angularVelocity < 0.1) {\n                        clearInterval(interval);\n                        // 결과를 일정 시간 후에 보여주도록 하여, 돌림판 결과가 나오게 함\n                        setTimeout(function() {\n                            var message = checkedItem ? checkedItem : \"\\uCCB4\\uD06C\\uB41C \\uC774\\uB984\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\";\n                            $result1.removeClass(\"out\").text(message).show().addClass(\"play\");\n                        }, 1500); // 1500ms 후에 결과를 보여줌\n                    }\n                }, updateInterval); // 50ms 간격으로 업데이트\n            }\n            // 롤 버튼 다시 보여줌\n            $roll.fadeIn(600, function() {\n                lock(false);\n            });\n        }, 1500);\n    };\n    OnStart();\n}\n$(document).ready(function() {\n    Roulette();\n    //var $result = $('#result');\n    var $roll = $(\"#roll\");\n    R.onStop = function() {\n        // 체크된 아이템들 가져오기\n        var checkedItem = null;\n        $(\".item-checkbox\").each(function() {\n            var $item = $(this);\n            var titleText = $item[0].textContent.trim();\n            if ($item[0].firstChild.checked && titleText) checkedItem = titleText; // 하나의 체크된 이름\n        });\n        // 체크된 아이템이 있을 경우 표시\n        // if (checkedItem) {\n        //     $result.removeClass('out').text(checkedItem).show().addClass('play');\n        // } else {\n        //     $result.removeClass('out').text('체크된 이름이 없습니다.').show().addClass('play');\n        // }\n        clearTimeout(it);\n        it = setTimeout(function() {\n            $roll.fadeIn(600, function() {\n                lock(false);\n                $result.hide();\n            });\n        }, 1500);\n    };\n});\nfunction lock(b) {\n    if (b) {\n        $(\"[contenteditable]\").attr(\"contenteditable\", false);\n        $(\"ul\").addClass(\"lock\");\n    } else {\n        $(\"[contenteditable]\").attr(\"contenteditable\", true);\n        $(\"ul\").removeClass(\"lock\");\n    }\n}\n$(document).on(\"click\", \"#roll\", function(evt) {\n    if (!R.isRolling) {\n        R.isRolling = true;\n        var checkedItem = null;\n        $(\".item-checkbox\").each(function() {\n            var $item = $(this);\n            var titleText = $item[0].textContent.trim();\n            if ($item[0].firstChild.checked && titleText) checkedItem = titleText; // 하나의 체크된 이름\n        });\n        R.Launch(checkedItem); // 체크된 이름으로 당첨 설정\n        $(evt.currentTarget).focus().addClass(\"active\");\n        lock(true);\n    } else {\n        R.isRolling = false;\n        R.Stop();\n        $(evt.currentTarget).focus().removeClass(\"active\").hide();\n    }\n});\n$(document).on(\"click\", \".item-delete\", function(evt) {\n    $(evt.currentTarget).closest(\"li\").remove();\n    updateData();\n    cleanList();\n});\n// $(document).on('click', function(evt) {\n// \t$(evt.target).focus();\n// \tif ($(evt.target).is('h1')) {\n// \t\t$(evt.target).attr('contenteditable', 'true');\n// \t} else {\n// \t\t$('[contenteditable]').removeAttr('contenteditable');\n// \t}\n// });\n$(document).on(\"keydown\", \"h1[contenteditable]\", function(e) {\n    if (e.key === \"Enter\") e.preventDefault();\n});\n$(document).on(\"click\", \"#roll\", function(evt) {\n    var checkedItem = null;\n    $(\".item-checkbox\").each(function() {\n        var $item = $(this);\n        //var $title = $item[0].textContent.trim();\n        var titleText = $item[0].textContent.trim();\n        //var $checkbox = $item[0].firstChild;\n        if ($item[0].firstChild.checked && titleText) checkedItem = titleText; // 하나의 체크된 이름\n    });\n    if (!R.isRolling) {\n        // 특정 이름을 여기서 지정\n        R.isRolling = true;\n        R.Launch(checkedItem); // 원하는 이름으로 당첨을 설정\n        $(evt.currentTarget).focus().addClass(\"active\");\n        lock(true);\n    } else {\n        R.isRolling = false;\n        R.Launch(checkedItem); // 원하는 이름으로 당첨을 설정\n        R.Stop();\n        $(evt.currentTarget).focus().removeClass(\"active\").hide();\n    }\n});\n(function() {\n    var $t = $(\"#button-tooltip\");\n    var $u = $(\"ul\");\n    function show() {\n        $t.show();\n    }\n    function hide() {\n        $t.hide();\n    }\n    function move() {\n        var o = $u.offset();\n        o.top -= 100;\n        o.left += 100;\n        $t.offset(o);\n    }\n    $(document).on(\"mouseenter mousemove\", \".item-weight-sub, .item-weight-add\", function(e) {\n        move();\n        show();\n    }).on(\"mouseleave\", \".item-weight-sub, .item-weight-add\", function(e) {\n        hide();\n    });\n})();\n\n//# sourceMappingURL=roulette.35626ed4.js.map\n","\r\nArray.prototype.remove = function(elem) {\r\n\tthis.some(function(e, i, a) {\r\n\t\tif (e === elem) {\r\n\t\t\ta.splice(i, 1);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t});\r\n\treturn this;\r\n};\r\nArray.prototype.removeAll = function(elem) {\r\n\tthis.forEach(function(e, i, a) {\r\n\t\tif (e === elem) {\r\n\t\t\ta.splice(i, 1);\r\n\t\t}\r\n\t});\r\n\treturn this;\r\n}\r\nvar it; \r\nvar colorPalette = [\r\n\t'#f44336',\r\n\t'#e91e63',\r\n\t'#9c27b0',\r\n\t'#673ab7',\r\n\t'#3f51b5',\r\n\t'#2196f3',\r\n\t'#03a9f4',\r\n\t'#00bcd4',\r\n\t'#009688',\r\n\t'#4caf50',\r\n\t'#8bc34a',\r\n\t'#cddc39',\r\n\t'#ffeb3b',\r\n\t'#ffc107',\r\n\t'#ff9800',\r\n\t'#ff5722',\r\n\t'#795548',\r\n//\t'#9e9e9e',\r\n\t'#607d8b',\r\n];\r\n(function() {\r\n\tvar startColorIdx = Math.floor(Math.random() * colorPalette.length);\r\n\tvar startColor = colorPalette[startColorIdx];\r\n\tcolorPalette.remove(startColor);\r\n\twindow.getColor = function(i) {\r\n\t\tif (i == 0) return startColor;\r\n\t\treturn colorPalette[ Math.floor(startColorIdx + 4 * i) % colorPalette.length ];\r\n\t};\r\n})();\r\n\r\n// -------------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n\r\n// -------------------------------------------------------------------------------------------\r\n// -------------------------------------------------------------------------------------------\r\n// -------------------------------------------------------------------------------------------\r\n// -------------------------------------------------------------------------------------------\r\n// -------------------------------------------------------------------------------------------\r\n// -------------------------------------------------------------------------------------------\r\n\r\n\r\nvar noname = '이름 없음';\r\nvar font = '32px Hanna';\r\nvar font2 = font; //'36px Sans-serif';\r\nvar line_color = '#37474f';\r\nvar bgColor = '#ffffff';\r\nvar pinColor = '#37474f';\r\nvar fontStrokeStyle = '#37474f';\r\n\r\n\r\n\r\nfunction DEG2RAD(degree) {\r\n\treturn (degree * Math.PI) / 180;\r\n}\r\n\r\n$(document).ready(function() {\r\n\tvar $li = $('li.item');\r\n\tvar $cl = $li.clone();\r\n\twindow.createItem = function() {\r\n\t\t$('ul').append($cl.clone());\r\n\t}\r\n});\r\n\r\n\r\nfunction updateData() {\r\n\r\n\tvar items = [];\r\n\tvar angleSum = 0;\r\n\tvar weightSum = 0;\r\n\r\n\t$('li.item').each(function(i, e) {\r\n\t\tvar $e = $(e);\r\n\t\tvar $title = $e.find('.item-title');\r\n\t\tif ($title.text()) {\r\n\t\t\t$e.removeClass('empty');\r\n\t\t} else {\r\n\t\t\t$e.addClass('empty');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar weight = parseFloat($e.find('.item-weight').attr('data-weight')) || 0;\r\n\t\tweightSum += weight;\r\n\t});\r\n\t$('li.item:not(.empty)').each(function(i, e) {\r\n\t\tvar $e = $(e);\r\n\t\t\r\n\t\tvar title = $e.find('.item-title').text();\r\n\t\tif (!title) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar weight = parseFloat($e.find('.item-weight').attr('data-weight')) || 0;\r\n\t\tvar chance = weight / weightSum;\r\n\t\t$e.attr('data-chance', (chance * 100).toFixed(2));\r\n\r\n\t\tvar angle = 360 * chance;\r\n\t\tangleSum += angle;\r\n\r\n\t\tvar color = getColor(i)\r\n\t\titems.push({\r\n\t\t\tname: title,\r\n\t\t\tangle: angle,\r\n\t\t\tangleSum: angleSum,\r\n\t\t\tcolor: color\r\n\t\t});\r\n\r\n\t\t$e.css('background', 'linear-gradient(to right, ' + color + ' 11%, rgba(0, 0, 0, 0) 0%)');\r\n\t});\r\n\r\n\tR.Items = items;\r\n\tR.dirty = true;\r\n}\r\n\r\nfunction cleanList() {\r\n\tvar empty = [];\r\n\t$('li').each(function() {\r\n\t\tvar $this = $(this);\r\n\t\tvar $title = $this.find('.item-title');\r\n\t\tvar text = $title.text().trim();\r\n\t\t$title.text(text);\r\n\t\tif (!text) {\r\n\t\t\tempty.push($this);\r\n\t\t}\r\n\t});\r\n\r\n\tif (empty.length === 0) {\r\n\t\t// create new li\r\n\t\tcreateItem();\r\n\t} else if (empty.length > 1) {\r\n\t\tempty.pop();\r\n\t\tempty.forEach(function($e) {\r\n\t\t\t$e.remove();\r\n\t\t});\r\n\t}\r\n\r\n\tupdateCheckboxes();\r\n}\r\n\r\nfunction updateCheckboxes() {\r\n\tvar $existingCheckboxes = $('#addCheckList').find('.item-checkbox');\r\n\tvar $ulList = $('li.item').not('.empty');\r\n\r\n\tvar existingCheckboxCount = $existingCheckboxes.length;\r\n\tvar ulListCount = $ulList.length;\r\n\r\n\t// 체크박스가 초과되면 삭제\r\n\tif (existingCheckboxCount > ulListCount) {\r\n\t\tfor (var i = existingCheckboxCount - 1; i >= ulListCount; i--) {\r\n\t\t\t$existingCheckboxes.eq(i).remove();\r\n\t\t}\r\n\t} else if (existingCheckboxCount < ulListCount) { // 체크박스가 부족하면 추가\r\n\t\t$ulList.each(function(index) {\r\n\t\t\tif (index >= existingCheckboxCount) {\r\n\t\t\t\tvar checkboxName = $(this).find('.item-title').text();\r\n\t\t\t\tvar checkboxHtml = '<div class=\"item-checkbox\"><input type=\"checkbox\" class=\"single-checkbox\" />' + checkboxName + '</div>';\r\n\t\t\t\t$('#addCheckList').append(checkboxHtml);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n// 체크박스 선택 시 다른 체크박스 해제\r\n$(document).on('change', '#addCheckList .single-checkbox', function() {\r\n    if ($(this).prop('checked')) {\r\n        $('#addCheckList .single-checkbox').not(this).prop('checked', false); // 다른 체크박스 해제\r\n    }\r\n});\r\n\r\n$(document).on('blur', '.item-title', function(evt) {\r\n\tcleanList();\r\n\tupdateData(); // 데이터 업데이트\r\n\r\n});\r\n$(document).on('keyup', '.item-title', function(evt) {\r\n\tupdateData();\r\n});\r\n\r\n// 체크박스 선택 시 다른 체크박스 해제\r\n$(document).on('change', '.single-checkbox', function() {\r\n\tif ($(this).prop('checked')) {\r\n\t\t$('.single-checkbox').not(this).prop('checked', false); // 다른 체크박스 해제\r\n\t}\r\n});\r\n\r\n$(document).on('click', 'li.item', function(evt) {\r\n\t$(evt.currentTarget).find('.item-title').focus();\r\n});\r\n\r\n$(document).on('click', '.item-weight-add, .item-weight-sub', function(evt) {\r\n\tevt.stopPropagation();\r\n\tvar $this = $(evt.currentTarget);\r\n\tvar sign = $this.is('.item-weight-add') ? +1 : $this.is('.item-weight-sub') ? -1 : 0;\r\n\tvar $w = $this.focus().siblings('.item-weight');\r\n\tvar amount = evt.ctrlKey && !evt.shiftKey &&  evt.altKey ? 1000 :\r\n\t\t\t\t!evt.ctrlKey && !evt.shiftKey &&  evt.altKey ? 100 :\r\n\t\t\t\t evt.ctrlKey && !evt.shiftKey && !evt.altKey ? 10 :\r\n\t\t\t\t1;\r\n\tvar w = Math.floor(Math.max(1, Math.min(9999, (parseInt($w.attr('data-weight')) || 1) + sign * amount)));\r\n\t$w.attr('data-weight', w);\r\n\tupdateData();\r\n});\r\n\r\n$(document).on('keydown', function(evt) {\r\n\tvar $target = $(evt.target);\r\n\tif (evt.key === 'Enter') {\r\n\t\tevt.preventDefault();\r\n\t\tcleanList();\r\n\t\tif ($target.is('.item-title')) {\r\n\t\t\t$target.blur()\r\n\t\t\t.closest('li')\r\n\t\t\t.next('li')\r\n\t\t\t.find('.item-title').focus();\r\n\t\t}\r\n\t\tif ($target.is('[contenteditable]')) {\r\n\t\t\t$target.blur();\r\n\t\t}\r\n\t} else if (evt.key === 'Escape') {\r\n\t\tif ($target.is('[contenteditable]')) {\r\n\t\t\t$target.blur();\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n// $(document).on('keyup', '[contenteditable]', function(evt) {\r\n// \tupdateData();\r\n// });\r\n\r\nfunction Roulette() {\r\n\r\n\tvar R = {\r\n\t\tdirty: true,\r\n\t\trotation: 0,\r\n\t\t$button: $('#roll')\r\n\t};\r\n\twindow.R = R;\r\n\r\n\tfunction OnStart() {\r\n\t\ttry {\r\n\t\t\t$(document.body).css('background', bgColor);\r\n\t\t\tR.canvas = document.querySelector('canvas');\r\n\t\t\tR.ctx = R.canvas.getContext('2d', true);\r\n\t\t\tR.size = { width: R.canvas.width, height: R.canvas.height };\r\n\t\t\tR.center = { x: R.size.width / 2 , y: R.size.height / 2 };\r\n\r\n\t\t\twindow.radius = Math.min(Math.min(R.size.width, R.size.height) * 0.5 * 0.9, R.size.height / 2 - 40);\r\n\r\n\t\t\tR.bufferCanvas = document.createElement('canvas');\r\n\t\t\tR.bufferCanvas.width = R.size.width;\r\n\t\t\tR.bufferCanvas.height = R.size.height;\r\n\t\t\tR.buffer = R.bufferCanvas.getContext('2d', true);\r\n\t\t\tR.buffer.textAlign='center';\r\n\r\n\t\t\trequestAnimationFrame(OnUpdate);\r\n\t\t} catch(e) { console.log(e); }\r\n\t}\r\n\r\n\tfunction OnUpdate(timestamp) {\r\n\t\tR.deltaTime = timestamp - (R.lastTimestamp || timestamp);\r\n\t\t//R.FPS = (R.deltaTime && (R.deltaTime > 0)) ? Math.round(1000 / R.deltaTime) : 0;\r\n\r\n\t\t\r\n\t\tif (R.stopping) {\r\n\t\t\tif (Date.now() - R.stopping > 15 * 1000) {\r\n\t\t\t\tR.angularVelocity = 0;\r\n\t\t\t\tdelete R.stopping;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// if (R.angularDamping) {\r\n\t\t// \tR.angularVelocity -= Math.max(20, Math.min(R.angularVelocity * 0.5, R.angularDamping)) * (R.deltaTime / 1000);\r\n\t\t// }\r\n\t\tif (R.angularVelocity > 0) {\r\n\t\t\tR.rotation += R.angularVelocity * (timestamp / 999);\r\n\t\t\tR.angularVelocity *= 0.99; // Damping effect\r\n\t\t}\r\n\r\n\t\t// Check if we need to stop\r\n\t\t// if (R.angularVelocity <= 0) {\r\n\t\t// \tR.angularVelocity = 0;\r\n\t\t// \tif (R.onStop) R.onStop(); // Call stop function\r\n\t\t// \tR.isRolling = false; // Stop rolling\r\n\t\t// }\r\n\r\n\t\tif (R.angularVelocity) {\r\n\t\t\tR.rotation += R.angularVelocity * (R.deltaTime / 1000);\r\n\t\t\twhile (R.rotation < 0) R.rotation += 360;\r\n\t\t\twhile (R.rotation >= 360) R.rotation -= 360;\r\n\t\r\n\t\t\tif (R.targetAngle !== null && R.angularVelocity < 180) { // 멈출 속도 이하가 되면\r\n\t\t\t\tconst diff = R.rotation - R.targetAngle;\r\n\t\t\t\tif (Math.abs(diff) < 1) { // 목표 각도에 근접하면\r\n\t\t\t\t\tR.angularVelocity = 0; // 회전 멈춤\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (R.prevRotation != R.rotation) {\r\n\t\t\tR.dirty = true;\r\n\t\t}\r\n\r\n\t\trequestAnimationFrame(OnUpdate);\r\n\r\n\t\tR.prevRotation = R.rotation;\r\n\t\r\n\t\t// render\r\n\t\tOnRender();\r\n\t\r\n\t\t// next frame\r\n\t\tR.lastTimestamp = timestamp;\r\n\t}\r\n\r\n\tfunction drawArc(option, name, split) {\r\n\t\tif (!split || (split && !name)) {\r\n\t\t\tR.buffer.save();\r\n\t\t\tR.buffer.translate(option.x, option.y);\r\n\t\t\tR.buffer.rotate(DEG2RAD(option.rotation - 90));\r\n\r\n\t\t\tR.buffer.beginPath();\r\n\t\t\tR.buffer.moveTo(0, 0);\r\n\t\t\tR.buffer.arc(0, 0, option.radius, 0, DEG2RAD(option.angle));\r\n\t\t\tR.buffer.closePath();\r\n\t\t\tR.buffer.fillStyle = option.color;\r\n\t\t\tR.buffer.fill();\r\n\r\n\t\t\tR.buffer.beginPath();\r\n\t\t\tR.buffer.arc(0, 0, option.radius, 0, DEG2RAD(option.angle));\r\n\t\t\tR.buffer.strokeStyle = window.line_color;\r\n\t\t\tR.buffer.lineWidth = 3;\r\n\t\t\tR.buffer.stroke();\r\n\r\n\t\t\tR.buffer.restore();\r\n\t\t}\r\n\t\tif (!split || (split && name)) {\r\n\t\t\t// text\r\n\t\t\tR.buffer.save();\r\n\t\t\tR.buffer.translate(option.x, option.y);\r\n\t\t\tR.buffer.rotate(DEG2RAD(option.rotation - 90 + option.angle / 2));\r\n\r\n\t\t\tR.buffer.beginPath();\r\n\t\t\tR.buffer.moveTo(0, 0);\r\n\t\t\tR.buffer.font = window.font2;\r\n\t\t\tR.buffer.strokeStyle = fontStrokeStyle; // 'black';\r\n\t\t\tR.buffer.lineWidth = 5;\r\n\t\t\tR.buffer.strokeText(name, option.radius / 2, 8);\r\n\t\t\t//R.buffer.fillStyle = window.line_color;\r\n\t\t\tR.buffer.fillStyle = 'white';\r\n\t\t\tR.buffer.fillText(name, option.radius / 2, 8);\r\n\r\n\t\t\tR.buffer.restore();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction OnRender() {\r\n\t\tif (!R.dirty) return;\r\n\t\tR.dirty = false;\r\n\r\n\t\t// clear\r\n\t\tR.buffer.fillStyle = bgColor;\r\n\t\tR.buffer.fillRect(0, 0, R.size.width, R.size.height);\r\n\t\t//R.buffer.clearRect(0, 0, R.size.width, R.size.height);\r\n\r\n\t\tif (R.FPS) {\r\n\t\t\tR.buffer.font = window.font;\r\n\t\t\tR.buffer.fillStyle = window.line_color;\r\n\t\t\tR.buffer.fillText(R.FPS + 'FPS', 50, R.center.y - window.radius - 7);\r\n\t\t}\r\n\r\n\t\t// shadow\r\n\t\tR.buffer.shadowBlur = 15;\r\n\t\tR.buffer.shadowColor = 'black';\r\n\t\tdrawArc({ x: R.center.x, y: R.center.y + 15 + 5, radius: window.radius - 5, rotation: 0, angle: 360, color: bgColor }, '');\r\n\t\tR.buffer.shadowBlur = 0;\r\n\t\tdrawArc({ x: R.center.x, y: R.center.y + 15, radius: window.radius, rotation: 0, angle: 360, color: bgColor }, '');\r\n\r\n\t\t//\r\n\t\tR.current = null;\r\n\t\tif (R.Items && R.Items.length > 0) {\r\n\t\t\tR.lastAngle = 0;\r\n\t\t\tR.Items.forEach(function(item) {\r\n\t\t\t\tR.currentAngle = 360 - R.rotation;\r\n\t\t\t\twhile (R.currentAngle < 0) R.currentAngle += 360;\r\n\t\t\t\twhile (R.currentAngle >= 360) R.currentAngle -= 360;\r\n\t\t\t\t// if (item.angleSum - item.angle <= R.currentAngle && R.currentAngle <= item.angleSum) {\r\n\t\t\t\t// \tR.current = item.name;\r\n\t\t\t\t// }\r\n\r\n\t\t\t\tdrawArc({ x: R.center.x, y: R.center.y + 15, radius: window.radius,\r\n\t\t\t\t\trotation: R.rotation + R.lastAngle, angle: item.angle, color: item.color }, null, true);\r\n\t\t\t\tR.lastAngle += item.angle;\r\n\t\t\t\t//if (R.lastAngle >= 360) R.lastAngle -= 360;\r\n\t\t\t});\r\n\t\t\tR.lastAngle = 0;\r\n\t\t\tR.Items.forEach(function(item) {\r\n\t\t\t\tR.currentAngle = 360 - R.rotation;\r\n\t\t\t\twhile (R.currentAngle < 0) R.currentAngle += 360;\r\n\t\t\t\twhile (R.currentAngle >= 360) R.currentAngle -= 360;\r\n\t\t\t\tif (item.angleSum - item.angle <= R.currentAngle && R.currentAngle <= item.angleSum) {\r\n\t\t\t\t\tR.current = item.name;\r\n\t\t\t\t\tR.currentColor = item.color;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdrawArc({ x: R.center.x, y: R.center.y + 15, radius: window.radius,\r\n\t\t\t\t\trotation: R.rotation + R.lastAngle, angle: item.angle, color: item.color }, item.name, true);\r\n\t\t\t\tR.lastAngle += item.angle;\r\n\t\t\t\t//if (R.lastAngle >= 360) R.lastAngle -= 360;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdrawArc({ x: R.center.x, y: R.center.y + 15, radius: window.radius,\r\n\t\t\t\trotation: R.rotation-45, angle: 180, color: getColor(0) }, '돌려돌려');\r\n\t\t\tdrawArc({ x: R.center.x, y: R.center.y + 15, radius: window.radius,\r\n\t\t\t\trotation: R.rotation-45+180, angle: 180, color: getColor(1) }, '돌림판');\r\n\t\t}\r\n\t\t// pin\r\n\t\tR.buffer.beginPath();\r\n\t\tR.buffer.moveTo(R.size.width / 2    , R.center.y - window.radius + 20);\r\n\t\tR.buffer.lineTo(R.size.width / 2 - 5, R.center.y - window.radius + 5 );\r\n\t\tR.buffer.lineTo(R.size.width / 2 - 5, R.center.y - window.radius + 0 );\r\n\t\tR.buffer.lineTo(R.size.width / 2 + 5, R.center.y - window.radius + 0 );\r\n\t\tR.buffer.lineTo(R.size.width / 2 + 5, R.center.y - window.radius + 5 );\r\n\t\tR.buffer.closePath();\r\n\t\tR.buffer.fillStyle = window.pinColor;\r\n\t\tR.buffer.fill();\r\n\t\tR.buffer.stroke();\r\n\r\n\t\tif (R.current) {\r\n\t\t\t//R.buffer.shadowBlur = 1;\r\n\t\t\tR.buffer.font = window.font;\r\n\t\t\tif (R.currentColor) {\r\n\t\t\t\tR.buffer.strokeStyle = window.line_color; // 'black';\r\n\t\t\t\tR.buffer.lineWidth = 5;\r\n\t\t\t\tR.buffer.strokeText(R.current, R.size.width / 2, R.center.y - window.radius - 7);\r\n\t\t\t}\r\n\t\t\tR.buffer.fillStyle = R.currentColor || window.line_color;\r\n\t\t\tR.buffer.fillText(R.current, R.size.width / 2, R.center.y - window.radius - 7);\r\n\t\t\t//R.buffer.shadowBlur = 0;\r\n\t\t}\r\n\t\t// 가운데 점\r\n\t\t// R.buffer.beginPath();\r\n\t\t// R.buffer.arc(R.center.x, R.center.y + 15, 3, 0, 2 * Math.PI);\r\n\t\t// R.buffer.fill();\r\n\t\tR.ctx.drawImage(R.bufferCanvas, 0, 0);\r\n\t}\r\n\r\n\tR.Launch = function(targetName) {\r\n\t\t//R.launched = true;\r\n\t\tR.angularVelocity = 6 * 360; // 초기 회전 속도\r\n\t\tR.angularDamping = 10;\r\n\r\n\t\tif (targetName) {\r\n\t\t\tconst targetItem = R.Items.find(item => item.name === targetName);\r\n\t\t\tif (targetItem) {\r\n\t\t\t\tconst targetIndex = R.Items.indexOf(targetItem);\r\n\t\t\t\tconst targetAngle = targetItem.angleSum - targetItem.angle / 2; // 이름의 중간 각도\r\n\t\t\t\tR.targetAngle = (360 - targetAngle) % 360; // 목표 각도 설정\r\n\t\t\t\tR.rotation = Math.random() * 360; // 초기 회전값 랜덤 설정\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tR.targetAngle = null; // 목표 각도가 없으면 랜덤으로 설정\r\n\t\t}\r\n\t}\r\n\tR.Stop = function() {\r\n\t\tclearTimeout(it);\r\n\t\tit = setTimeout(function() {\r\n\t\t\tvar checkedItem = null;\r\n\t\t\t$('.item-checkbox').each(function(){\r\n\t\t\t\tvar $item = $(this);\r\n\t\t\t\t//var $title = $item[0].textContent.trim();\r\n\t\t\t\tvar titleText = $item[0].textContent.trim();\r\n\t\t\t\t//var $checkbox = $item[0].firstChild;\r\n\t\t\t\tif ($item[0].firstChild.checked && titleText) {\r\n\t\t\t\t\tcheckedItem = titleText; // 하나의 체크된 이름\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// 체크된 아이템이 있을 경우 표시\r\n\t\t\tvar $result = $('#result');\r\n\t\t\tvar $roll = $('#roll');\r\n\t\t\t$result.removeClass('play').hide(); // 결과를 숨김\r\n\t\t\t// 서서히 느려지는 효과\r\n\t\t\tif (checkedItem) {\r\n\t\t\t\tR.angularVelocity = 8; // 초기 회전 속도를 설정\r\n\r\n\t\t\t\t// 최소 속도와 감속 비율 설정\r\n\t\t\t\tvar minVelocity = 0.5; // 최소 속도\r\n\t\t\t\tvar slowingFactor = 0.95; // 속도 감소 비율\r\n\t\t\t\tvar updateInterval = 50; // 업데이트 간격 (ms)\r\n\r\n\t\t\t\tvar interval = setInterval(function() {\r\n\t\t\t\t\t// 회전 값 업데이트\r\n\t\t\t\t\tR.rotation += R.angularVelocity; \r\n\t\r\n\t\t\t\t\t// 속도 감소\r\n\t\t\t\t\tR.angularVelocity *= slowingFactor; \r\n\t\r\n\t\t\t\t\t// 최소 속도 이하로 떨어지지 않도록 설정\r\n\t\t\t\t\tif (R.angularVelocity < 0.1) {\r\n\t\t\t\t\t\tclearInterval(interval);\r\n\t\r\n\t\t\t\t\t\t// 결과를 일정 시간 후에 보여주도록 하여, 돌림판 결과가 나오게 함\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tvar message = checkedItem ? checkedItem : '체크된 이름이 없습니다.';\r\n\t\t\t\t\t\t\t$result.removeClass('out').text(message).show().addClass('play');\r\n\t\t\t\t\t\t}, 1500); // 1500ms 후에 결과를 보여줌\r\n\t\t\t\t\t}\r\n\t\t\t\t}, updateInterval); // 50ms 간격으로 업데이트\r\n\t\t\t}\r\n\t\r\n\t\t\t// 롤 버튼 다시 보여줌\r\n\t\t\t$roll.fadeIn(600, function() {\r\n\t\t\t\tlock(false);\r\n\t\t\t});\r\n\t\t}, 1500);\r\n\t}\r\n\r\n\tOnStart();\r\n}\r\n\r\n$(document).ready(function() {\r\n\tRoulette();\r\n\r\n\t//var $result = $('#result');\r\n\tvar $roll = $('#roll');\r\n\r\n\tR.onStop = function() {\r\n\t\t// 체크된 아이템들 가져오기\r\n        var checkedItem = null;\r\n        $('.item-checkbox').each(function(){\r\n\t\t\tvar $item = $(this);\r\n\t\t\tvar titleText = $item[0].textContent.trim();\r\n\t\t\tif ($item[0].firstChild.checked && titleText) {\r\n\t\t\t\tcheckedItem = titleText; // 하나의 체크된 이름\r\n\t\t\t}\r\n\t\t});\r\n\r\n        // 체크된 아이템이 있을 경우 표시\r\n        // if (checkedItem) {\r\n        //     $result.removeClass('out').text(checkedItem).show().addClass('play');\r\n        // } else {\r\n        //     $result.removeClass('out').text('체크된 이름이 없습니다.').show().addClass('play');\r\n        // }\r\n\r\n\t\tclearTimeout(it);\r\n\t\tit = setTimeout(function() {\r\n\t\t\t$roll.fadeIn(600, function() {\r\n\t\t\t\tlock(false);\r\n\t\t\t\t$result.hide();\r\n\t\t\t});\r\n\t\t}, 1500);\r\n\t}\r\n});\r\n\r\nfunction lock(b) {\r\n\tif (b) {\r\n\t\t$('[contenteditable]').attr('contenteditable', false);\r\n\t\t$('ul').addClass('lock');\r\n\t} else {\r\n\t\t$('[contenteditable]').attr('contenteditable', true);\r\n\t\t$('ul').removeClass('lock');\r\n\t}\r\n}\r\n\r\n$(document).on('click', '#roll', function(evt) {\r\n\tif (!R.isRolling) {\r\n        R.isRolling = true;\r\n\t\tvar checkedItem = null;\r\n        $('.item-checkbox').each(function(){\r\n\t\t\tvar $item = $(this);\r\n\t\t\tvar titleText = $item[0].textContent.trim();\r\n\t\t\tif ($item[0].firstChild.checked && titleText) {\r\n\t\t\t\tcheckedItem = titleText; // 하나의 체크된 이름\r\n\t\t\t}\r\n\t\t});\r\n        R.Launch(checkedItem); // 체크된 이름으로 당첨 설정\r\n        $(evt.currentTarget).focus().addClass('active');\r\n        lock(true);\r\n    } else {\r\n        R.isRolling = false;\r\n        R.Stop();\r\n        $(evt.currentTarget).focus().removeClass('active').hide();\r\n    }\r\n});\r\n\r\n$(document).on('click', '.item-delete', function(evt) {\r\n\t$(evt.currentTarget).closest('li').remove();\r\n\tupdateData();\r\n\tcleanList();\r\n});\r\n\r\n// $(document).on('click', function(evt) {\r\n// \t$(evt.target).focus();\r\n// \tif ($(evt.target).is('h1')) {\r\n// \t\t$(evt.target).attr('contenteditable', 'true');\r\n// \t} else {\r\n// \t\t$('[contenteditable]').removeAttr('contenteditable');\r\n// \t}\r\n// });\r\n\r\n$(document).on('keydown', 'h1[contenteditable]', function(e) {\r\n\tif (e.key === 'Enter') {\r\n\t\te.preventDefault();\r\n\t}\r\n});\r\n\r\n$(document).on('click', '#roll', function(evt) {\r\n\r\n\tvar checkedItem = null;\r\n\t$('.item-checkbox').each(function(){\r\n\t\tvar $item = $(this);\r\n\t\t//var $title = $item[0].textContent.trim();\r\n\t\tvar titleText = $item[0].textContent.trim();\r\n\t\t//var $checkbox = $item[0].firstChild;\r\n\t\tif ($item[0].firstChild.checked && titleText) {\r\n\t\t\tcheckedItem = titleText; // 하나의 체크된 이름\r\n\t\t}\r\n\t});\r\n\r\n    if (!R.isRolling) {\r\n        // 특정 이름을 여기서 지정\r\n        R.isRolling = true;\r\n        R.Launch(checkedItem); // 원하는 이름으로 당첨을 설정\r\n        $(evt.currentTarget).focus().addClass('active');\r\n        lock(true);\r\n    } else {\r\n        R.isRolling = false;\r\n\t\tR.Launch(checkedItem); // 원하는 이름으로 당첨을 설정\r\n        R.Stop();\r\n        $(evt.currentTarget).focus().removeClass('active').hide();\r\n    }\r\n});\r\n\r\n(function() {\r\n\tvar $t = $('#button-tooltip');\r\n\tvar $u = $('ul');\r\n\r\n\tfunction show() {\r\n\t\t$t.show();\r\n\t};\r\n\tfunction hide() {\r\n\t\t$t.hide();\r\n\t};\r\n\tfunction move() {\r\n\t\tvar o = $u.offset();\r\n\t\to.top -= 100;\r\n\t\to.left += 100;\r\n\t\t$t.offset(o);\r\n\t};\r\n\r\n\t$(document).on('mouseenter mousemove', '.item-weight-sub, .item-weight-add', function(e) {\r\n\t\tmove();\r\n\t\tshow();\r\n\t}).on('mouseleave', '.item-weight-sub, .item-weight-add', function(e) {\r\n\t\thide();\r\n\t});\r\n\r\n})();"],"names":["Array","prototype","remove","elem","some","e","i","a","splice","removeAll","forEach","startColorIdx","startColor","$t","$u","it","colorPalette","Math","floor","random","length","window","getColor","bgColor","DEG2RAD","degree","PI","updateData","items","angleSum","weightSum","$","each","$e","$title","find","text","removeClass","addClass","weight","parseFloat","attr","title","chance","toFixed","angle","color","push","name","css","R","Items","dirty","cleanList","empty","$this","trim","createItem","pop","updateCheckboxes","$existingCheckboxes","$ulList","not","existingCheckboxCount","ulListCount","eq","index","checkboxName","append","lock","b","document","ready","$cl","$li","clone","on","prop","evt","currentTarget","focus","stopPropagation","sign","is","$w","siblings","amount","ctrlKey","shiftKey","altKey","w","max","min","parseInt","$target","target","key","preventDefault","blur","closest","next","Roulette","R1","rotation","$button","OnUpdate","timestamp","deltaTime","lastTimestamp","stopping","Date","now","angularVelocity","targetAngle","abs","prevRotation","requestAnimationFrame","buffer","fillStyle","fillRect","size","width","height","FPS","font","line_color","fillText","center","y","radius","shadowBlur","shadowColor","drawArc","x","current","lastAngle","item","currentAngle","currentColor","beginPath","moveTo","lineTo","closePath","pinColor","fill","stroke","strokeStyle","lineWidth","strokeText","ctx","drawImage","bufferCanvas","option","split","save","translate","rotate","arc","restore","font2","Launch","targetName","angularDamping","targetItem","indexOf","Stop","clearTimeout","setTimeout","checkedItem","$item","titleText","textContent","firstChild","checked","$result1","$roll","hide","interval","setInterval","clearInterval","message","show","fadeIn","OnStart","body","canvas","querySelector","getContext","createElement","textAlign","console","log","onStop","$result","isRolling","o","offset","top","left"],"version":3,"file":"roulette.35626ed4.js.map"}